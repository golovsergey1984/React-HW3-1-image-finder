{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGallery/Searchbar.js","components/ImageGallery/Loader.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/Modal.js","components/ImageGallery/ImageGallery.js","components/ImageGallery/Button.js","services/image-api.js","components/ImageGallery/errorNotification.js","components/App.js","index.js"],"names":["module","exports","App","state","queryToSearch","handleSubmitSearchTxt","e","preventDefault","props","onSubmit","handleChange","setState","target","value","this","className","styles","Searchbar","SearchForm","type","autoComplete","autoFocus","placeholder","onChange","Component","loader","color","height","width","ImageGalleryItem","images","openModal","map","item","key","id","onClick","src","webformatURL","alt","tags","data-large-url","largeImageURL","Modal","isModalOpen","backdropRef","onClickFunctionCloseCheck","currentURL","Overlay","ref","ImageGallery","createRef","largeURL","handleKeyPress","code","closeModal","handleBackdropClick","current","currentModalLargeUrl","getAttribute","window","addEventListener","removeEventListener","items","Button","onClickBtn","fetchImages","query","page","axios","get","BASE_URL","ErrorNotification","text","isLoading","error","myRef","React","ImagesAPI","then","data","concat","hits","catch","finally","IncrementPage","prevState","handleChangeQuery","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.62170d7d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"ImageGallery_App__2YakP\",\"loader\":\"ImageGallery_loader__3fwOb\",\"Searchbar\":\"ImageGallery_Searchbar__2CGk7\",\"SearchForm\":\"ImageGallery_SearchForm__3FJ7j\",\"SearchForm-button\":\"ImageGallery_SearchForm-button__bwDcx\",\"SearchForm-button-label\":\"ImageGallery_SearchForm-button-label__1jFXF\",\"SearchForm-input\":\"ImageGallery_SearchForm-input__2bzEG\",\"ImageGallery\":\"ImageGallery_ImageGallery__aGB_u\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1EvM8\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__3YWvU\",\"Overlay\":\"ImageGallery_Overlay__1_PhA\",\"Modal\":\"ImageGallery_Modal__-PId6\",\"Button-box\":\"ImageGallery_Button-box__1zPFh\",\"Button\":\"ImageGallery_Button__26EVl\"};","import React, { Component } from 'react';\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\n\r\nexport default class App extends Component {\r\n    state = {\r\n        queryToSearch: \"\",\r\n    }\r\n\r\n    handleSubmitSearchTxt = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.queryToSearch);\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ queryToSearch: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        const { queryToSearch } = this.state;\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmitSearchTxt}>\r\n                    <button type=\"submit\" className={styles['SearchForm-button']}>\r\n                        <span className={styles['SearchForm-button-label']}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles['SearchForm-input']}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={queryToSearch}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nexport default class App extends Component {\r\n    //other logic\r\n    render() {\r\n        return (\r\n            <div className={styles.loader}>\r\n                <Loader\r\n                    type=\"Oval\"\r\n                    color=\"#00BFFF\"\r\n                    height={100}\r\n                    width={100}\r\n\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\n\r\nconst ImageGalleryItem = ({ images, openModal }) => (\r\n    <Fragment>\r\n\r\n        {images.map(item => (\r\n            <li key={item.id} className={styles.ImageGalleryItem} onClick={openModal}>\r\n                <img src={item.webformatURL} alt={item.tags} className={styles['ImageGalleryItem-image']} data-large-url={item.largeImageURL} />\r\n            </li>\r\n\r\n        ))}\r\n    </Fragment >\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Fragment } from 'react';\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\n\r\nconst Modal = ({ isModalOpen, backdropRef, onClickFunctionCloseCheck, currentURL }) => (\r\n\r\n    <Fragment>\r\n        {isModalOpen && (\r\n            <div className={styles.Overlay} ref={backdropRef} onClick={onClickFunctionCloseCheck} >\r\n                <div className={styles.Modal}>\r\n                    <img src={currentURL} alt=\"\" />\r\n                </div>\r\n            </div >\r\n        )}\r\n    </Fragment>\r\n\r\n);\r\n\r\nexport default Modal;","import React, { Component, Fragment, createRef } from \"react\";\r\nimport ImageGalleryItem from './ImageGalleryItem.js';\r\nimport Modal from './Modal.js';\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n    backdropRef = createRef();\r\n\r\n    state = {\r\n        isModalOpen: false,\r\n        largeURL: \"\",\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleKeyPress);\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n    }\r\n\r\n    handleKeyPress = e => {\r\n        if (e.code !== \"Escape\") return;\r\n        this.closeModal()\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        const { current } = this.backdropRef;\r\n        if (current && e.target !== current) return;\r\n        this.closeModal();\r\n    }\r\n\r\n    openModal = (e) => {\r\n        const currentModalLargeUrl = e.target.getAttribute('data-large-url');\r\n        this.setState({ isModalOpen: true });\r\n        this.setState({ largeURL: currentModalLargeUrl });\r\n    };\r\n\r\n    closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <ul className={styles.ImageGallery}>\r\n                    <ImageGalleryItem\r\n                        images={this.props.items}\r\n                        openModal={this.openModal}\r\n                    />\r\n                    {/*  {console.log(this.props.items)} */}\r\n                </ul>\r\n                < Modal\r\n                    isModalOpen={this.state.isModalOpen}\r\n                    backdropRef={this.backdropRef}\r\n                    onClickFunctionCloseCheck={this.handleBackdropClick}\r\n                    currentURL={this.state.largeURL}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n/* ImageGallery.propTypes = {\r\n\r\n                }; */","import React, { Component } from 'react';\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\n\r\n\r\nexport default class Button extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles['Button-box']}>\r\n                <button type=\"button\" className={styles.Button} onClick={this.props.onClickBtn} >\r\n                    Load More\r\n                    </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/?key=\";\r\nconst API_KEY = '14759738-915ddabe7286f1d5b09b52b7a';\r\nconst requestParams = '&per_page=12';\r\n\r\nexport const fetchImages = (query, page) => axios.get(BASE_URL + API_KEY + '&q=' + query + \"&page=\" + page + requestParams);\r\n/* export const fetchImages = (query, page) => axios.get(BASE_URL + API_KEY + '&q=' + query + \"&page=\" + page); */","import React from 'react';\r\n/* import styles from \"./ImageGallery.module.css\"; */\r\n\r\n\r\nconst ErrorNotification = ({ text }) => (\r\n\r\n    <h1>Whoops, something went wrong: {text}</h1>\r\n);\r\n\r\nexport default ErrorNotification;","import React, { Fragment, Component } from \"react\";\r\nimport Searchbar from './ImageGallery/Searchbar.js';\r\nimport Loader from './ImageGallery/Loader.js';\r\nimport ImageGallery from \"./ImageGallery/ImageGallery.js\";\r\n/* import ImageGalleryItem from \"./ImageGallery/ImageGalleryItem.js\"; */\r\nimport Button from \"./ImageGallery/Button.js\";\r\nimport * as ImagesAPI from \"../services/image-api.js\";\r\nimport ErrorNotification from \"./ImageGallery/errorNotification.js\";\r\nexport default class App extends Component {\r\n    state = {\r\n        images: [],\r\n        isLoading: false,\r\n        error: null,\r\n        page: 1,\r\n        query: \"\",\r\n        myRef: React.createRef()\r\n    };\r\n\r\n    /*  componentDidMount() {\r\n         window.scrollTo(0, 0);\r\n     }\r\n  */\r\n    fetchImages = (query, page) => {\r\n        this.setState({ isLoading: true });\r\n        ImagesAPI\r\n            .fetchImages(query, page)\r\n            .then(({ data }) => (this.setState({ images: this.state.images.concat(data.hits) })))//объеденяем базы\r\n            .catch(error => this.setState({ error }))\r\n            .finally(() => this.setState({ isLoading: false }))\r\n    }\r\n\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if ((prevState.query !== this.state.query) || (prevState.page !== this.state.page)) {\r\n            this.fetchImages(this.state.query, this.state.page)\r\n        }\r\n        if (this.state.page > 1) { this.scrollTo(); }\r\n\r\n    }\r\n\r\n    IncrementPage = () => {\r\n        this.setState((prevState) => ({\r\n            page: prevState.page + 1\r\n        }))\r\n\r\n    }\r\n\r\n    handleChangeQuery = (queryToSearch) => {\r\n        this.setState({ images: [] })\r\n        this.setState({ page: 1 })\r\n        this.setState({ query: queryToSearch });\r\n    }\r\n\r\n    scrollTo() {\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { images, isLoading, error } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Searchbar onSubmit={this.handleChangeQuery} />\r\n                {error && <ErrorNotification text={error.message} />}\r\n                {isLoading && <Loader />}\r\n                {images.length > 0 && <ImageGallery items={images} />}\r\n                {images.length > 0 && <Button onClickBtn={this.IncrementPage} />}\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}